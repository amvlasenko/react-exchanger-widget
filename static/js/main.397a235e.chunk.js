(this["webpackJsonpreact-exchanger"]=this["webpackJsonpreact-exchanger"]||[]).push([[0],{24:function(e,t,n){},31:function(e,t,n){"use strict";n.r(t);var c={};n.r(c),n.d(c,"fetchCurrencies",(function(){return C})),n.d(c,"fetchMinimalAmount",(function(){return T})),n.d(c,"setExchangeFrom",(function(){return F})),n.d(c,"setExchangeTo",(function(){return I})),n.d(c,"fetchEstimatedAmount",(function(){return M}));var a=n(0),r=n.n(a),s=n(9),i=n.n(s),u=n(7),o=n(2),l="FETCH_CURRENCIES",h="FETCH_MINIMAL_AMOUNT",b="FETCH_ESTIMATED_AMOUNT",j="SET_EXCHANGE_FROM",d="SET_EXCHANGE_TO",m={currencies:[]},f={estimatedAmount:""},p={minimalAmount:0},O={exchangeFrom:{ticker:"btc",image:"https://changenow.io/images/sprite/currencies/btc.svg"},exchangeTo:{ticker:"eth",image:"https://changenow.io/images/sprite/currencies/eth.svg"}},g=Object(u.b)({currencies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return Object(o.a)(Object(o.a)({},e),{},{currencies:t.payload});default:return e}},minimalAmount:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(o.a)(Object(o.a)({},e),{},{minimalAmount:t.payload});default:return e}},setExchange:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(o.a)(Object(o.a)({},e),{},{exchangeFrom:t.payload});case d:return Object(o.a)(Object(o.a)({},e),{},{exchangeTo:t.payload});default:return e}},estimatedAmount:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(o.a)(Object(o.a)({},e),{},{estimatedAmount:t.payload});default:return e}}}),x=(n(24),n(16)),v=n(5),y=n(4),E=n(3),k=n.n(E),w=n(6),A=n(11),N=n(12),_="bf09c6abbb5ec5bbbd0e210ad018ab010d460dc474c2e7361ccd27378e874a05",S=new(function(){function e(){Object(A.a)(this,e)}return Object(N.a)(e,[{key:"getCurrenies",value:function(){var e=Object(w.a)(k.a.mark((function e(){var t,n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.changenow.io/v1/currencies?active=true&fixedRate=true");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getMinAmount",value:function(){var e=Object(w.a)(k.a.mark((function e(t,n){var c,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.changenow.io/v1/min-amount/".concat(t,"_").concat(n,"?api_key=").concat(_));case 2:return c=e.sent,e.next=5,c.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getEstimatedAmount",value:function(){var e=Object(w.a)(k.a.mark((function e(t,n,c){var a,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.changenow.io/v1/exchange-amount/".concat(t,"/").concat(n,"_").concat(c,"?api_key=").concat(_));case 2:return a=e.sent,e.next=5,a.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}()}]),e}());function C(){return function(){var e=Object(w.a)(k.a.mark((function e(t){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.getCurrenies();case 2:n=e.sent,t({type:l,payload:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}function T(e,t){return function(){var n=Object(w.a)(k.a.mark((function n(c){var a;return k.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,S.getMinAmount(e,t);case 2:a=n.sent,c({type:h,payload:a});case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}function F(e){return function(t){t({type:j,payload:e})}}function I(e){return function(t){t({type:d,payload:e})}}function M(e,t,n){return function(){var c=Object(w.a)(k.a.mark((function c(a){var r;return k.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,S.getEstimatedAmount(e,t,n);case 2:r=c.sent,a({type:b,payload:r});case 4:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}()}var D=n(1);function R(e){var t=e.ticker,n=e.name,c=e.image,a=e.setExchange,r={backgroundImage:"url("+c+")"};return Object(D.jsx)("div",{className:"exchange-currency",children:Object(D.jsxs)("button",{style:r,onClick:function(){a(n,c)},"aria-label":n,children:[Object(D.jsxs)("span",{className:"cryptoTicker",children:[t," "]}),Object(D.jsx)("span",{className:"cryptoName",children:n})]})})}function X(e){return Object(D.jsx)("div",{className:"currencies",children:e.currencies.filter((function(t){return t.name.includes(e.searchString)||t.ticker.includes(e.searchString)})).map((function(t){return Object(D.jsx)(R,Object(o.a)(Object(o.a)({},t),{},{name:t.name,setExchange:e.setExchange}),t.name)}))})}var H=n(19),U=n(18),L=function(e){Object(H.a)(n,e);var t=Object(U.a)(n);function n(){var e;Object(A.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={search:""},e.handleKey=function(t){e.props.searchCurrencies(e.state.search)},e}return Object(N.a)(n,[{key:"render",value:function(){var e=this;return Object(D.jsx)("input",{type:"search",className:"user-search",placeholder:"Search",value:this.state.search,onChange:function(t){return e.setState({search:t.target.value})},onKeyDown:this.handleKey,"aria-label":"Enter the name or ticker of the currency to search"})}}]),n}(r.a.Component);function V(){var e=Object(y.b)(),t=Object(y.c)((function(e){return e.currencies.currencies})),n=Object(y.c)((function(e){return e.setExchange.exchangeFrom})),c=Object(y.c)((function(e){return e.setExchange.exchangeTo})),r=Object(y.c)((function(e){return e.minimalAmount.minimalAmount})),s=Object(y.c)((function(e){return e.estimatedAmount.estimatedAmount})),i=Object(a.useState)(""),u=Object(v.a)(i,2),o=u[0],l=u[1],h=Object(a.useState)(""),b=Object(v.a)(h,2),j=b[0],d=b[1],m=Object(a.useState)(!1),f=Object(v.a)(m,2),p=f[0],O=f[1],g=Object(a.useState)(!1),E=Object(v.a)(g,2),k=E[0],w=E[1],A=Object(a.useState)(""),N=Object(v.a)(A,2),_=N[0],R=N[1],H=Object(a.useState)(""),U=Object(v.a)(H,2),V=U[0],K=U[1],G=Object(a.useState)(!1),J=Object(v.a)(G,2),Y=J[0],B=J[1],q=Object(a.useState)(""),z=Object(v.a)(q,2),P=z[0],Q=z[1],W=Object(a.useCallback)((function(){e(C()),e(T(n.ticker,c.ticker))}),[e,n,c]);Object(a.useEffect)((function(){W()}),[W]),Object(a.useEffect)((function(){e(M(o,n.ticker,c.ticker))}),[o]),Object(a.useEffect)((function(){e(T(n.ticker,c.ticker))}),[e,n,c]),Object(a.useEffect)((function(){B(!!r.error),Q(r.error?r.error:""),l(r.error?"0":r.minAmount)}),[r]),Object(a.useEffect)((function(){B(!s.estimatedAmount),Q(s.estimatedAmount?"":s.error),d(s.estimatedAmount?s.estimatedAmount:"-")}),[s]);var Z={backgroundImage:"url("+n.image+")"},$={backgroundImage:"url("+c.image+")"},ee="hidden";return ee=Y?"error":"hidden",Object(D.jsx)("div",{className:"App",children:Object(D.jsxs)("div",{className:"exchangeContainer",children:[Object(D.jsx)("div",{className:"exchangeFrom",children:Object(D.jsxs)("div",{className:"controls",children:[p?Object(D.jsx)(L,{searchCurrencies:function(e){return R(e.target.value)}}):Object(D.jsx)("input",{type:"text",className:"inputValue",onChange:function(e){l(e.target.value),function(e,t){var n,c,a=!1}(S.getEstimatedAmount(o,n.ticker,c.ticker))},value:o,"aria-label":"Enter the exchange amount"}),p?null:Object(D.jsx)("button",{className:"currentFrom",style:Z,onClick:function(e){O(!p)},"aria-label":"Select currency to exchange",children:n.ticker.slice(0,4)}),p?Object(D.jsx)(X,{searchString:_,currencies:t,setExchange:function(n,c){e(F.apply(void 0,Object(x.a)(t.filter((function(e){return e.name===n&&e.image===c}))))),O(!1),R("")}}):null]})}),Object(D.jsx)("button",{className:"swapTickers","aria-label":"Swapping tickers, not available now"}),Object(D.jsx)("div",{className:"exchangeTo",children:Object(D.jsxs)("div",{className:"controls",children:[k?Object(D.jsx)(L,{searchCurrencies:function(e){return K(e.target.value)}}):Object(D.jsx)("input",{type:"text",className:"inputValue",onChange:function(e){d(e.target.value)},value:j,"aria-label":"You will get"}),k?null:Object(D.jsx)("button",{className:"currentTo",style:$,onClick:function(e){w(!k)},"aria-label":"Select currency to exchange",children:c.ticker.slice(0,4)}),k?Object(D.jsx)(X,{searchString:V,currencies:t,setExchange:function(n,c){e(I.apply(void 0,Object(x.a)(t.filter((function(e){return e.name===n&&e.image===c}))))),w(!1),K("")}}):null]})}),Object(D.jsxs)("div",{className:"goExchange",children:[Object(D.jsxs)("label",{htmlFor:"exchangeAddress",children:["Your ",c.name?c.name:"Ethereum"," address",Object(D.jsx)("input",{type:"text",className:"exchangeAddress",id:"exchangeAddress","aria-label":"Enter exchange address"})]}),Object(D.jsxs)("button",{className:"exchangeSubmit","aria-label":"Make an exchange",children:["Exchange",Object(D.jsx)("div",{className:ee,children:Object(D.jsx)("span",{children:"deposit_too_small"===P?"Deposit too small":"pair_is_inactive"===P?"This pair is disabled now":"Enter deposit"})})]})]})]})})}var K=function(){return Object(D.jsxs)("div",{className:"content",children:[Object(D.jsx)("h1",{children:"Crypto Exchange"}),Object(D.jsx)("p",{children:"Exchange fast and easy"}),Object(D.jsx)(V,{})]})},G=n(17),J=Object(u.d)(g,Object(u.c)(Object(u.a)(G.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__({actionCreators:c,trace:!0,traceLimit:25})));i.a.render(Object(D.jsx)(y.a,{store:J,children:Object(D.jsx)(K,{})}),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.397a235e.chunk.js.map