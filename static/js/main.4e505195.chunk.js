(this["webpackJsonpreact-exchanger"]=this["webpackJsonpreact-exchanger"]||[]).push([[0],{24:function(e,t,n){},31:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(9),s=n.n(r),i=n(7),u=n(2),o="FETCH_CURRENCIES",l="FETCH_MINIMAL_AMOUNT",h="FETCH_ESTIMATED_AMOUNT",b="SET_EXCHANGE_FROM",j="SET_EXCHANGE_TO",d={currencies:[]},m={estimatedAmount:""},p={minimalAmount:0},f={exchangeFrom:{ticker:"btc",image:"https://changenow.io/images/sprite/currencies/btc.svg"},exchangeTo:{ticker:"eth",image:"https://changenow.io/images/sprite/currencies/eth.svg"}},O=Object(i.b)({currencies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o:return Object(u.a)(Object(u.a)({},e),{},{currencies:t.payload});default:return e}},minimalAmount:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return Object(u.a)(Object(u.a)({},e),{},{minimalAmount:t.payload});default:return e}},setExchange:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(u.a)(Object(u.a)({},e),{},{exchangeFrom:t.payload});case j:return Object(u.a)(Object(u.a)({},e),{},{exchangeTo:t.payload});default:return e}},estimatedAmount:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(u.a)(Object(u.a)({},e),{},{estimatedAmount:t.payload});default:return e}}}),g=(n(24),n(16)),x=n(5),v=n(4),y=n(3),k=n.n(y),E=n(6),w=n(11),A=n(12),N="bf09c6abbb5ec5bbbd0e210ad018ab010d460dc474c2e7361ccd27378e874a05",C=new(function(){function e(){Object(w.a)(this,e)}return Object(A.a)(e,[{key:"getCurrenies",value:function(){var e=Object(E.a)(k.a.mark((function e(){var t,n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.changenow.io/v1/currencies?active=true&fixedRate=true");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getMinAmount",value:function(){var e=Object(E.a)(k.a.mark((function e(t,n){var c,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.changenow.io/v1/min-amount/".concat(t,"_").concat(n,"?api_key=").concat(N));case 2:return c=e.sent,e.next=5,c.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getEstimatedAmount",value:function(){var e=Object(E.a)(k.a.mark((function e(t,n,c){var a,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.changenow.io/v1/exchange-amount/".concat(t,"/").concat(n,"_").concat(c,"?api_key=").concat(N));case 2:return a=e.sent,e.next=5,a.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}()}]),e}());function S(e,t){return function(){var n=Object(E.a)(k.a.mark((function n(c){var a;return k.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,C.getMinAmount(e,t);case 2:a=n.sent,c({type:l,payload:a});case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}function T(e){return function(t){t({type:b,payload:e})}}function _(e){return function(t){t({type:j,payload:e})}}var F=n(1);function M(e){var t=e.ticker,n=e.name,c=e.image,a=e.setExchange,r={backgroundImage:"url("+c+")"};return Object(F.jsx)("div",{className:"exchange-currency",children:Object(F.jsxs)("button",{style:r,onClick:function(){a(n,c)},"aria-label":n,children:[Object(F.jsxs)("span",{className:"cryptoTicker",children:[t," "]}),Object(F.jsx)("span",{className:"cryptoName",children:n})]})})}function I(e){return Object(F.jsx)("div",{className:"currencies",children:e.currencies.filter((function(t){return t.name.includes(e.searchString)||t.ticker.includes(e.searchString)})).map((function(t){return Object(F.jsx)(M,Object(u.a)(Object(u.a)({},t),{},{name:t.name,setExchange:e.setExchange}),t.name)}))})}var H=n(19),R=n(18),D=function(e){Object(H.a)(n,e);var t=Object(R.a)(n);function n(){var e;Object(w.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={search:""},e.handleKey=function(t){e.props.searchCurrencies(e.state.search)},e}return Object(A.a)(n,[{key:"render",value:function(){var e=this;return Object(F.jsx)("input",{type:"search",className:"user-search",placeholder:"Search",value:this.state.search,onChange:function(t){return e.setState({search:t.target.value})},onKeyDown:this.handleKey,"aria-label":"Enter the name or ticker of the currency to search"})}}]),n}(a.a.Component);function K(){var e=Object(v.b)(),t=Object(v.c)((function(e){return e.currencies.currencies})),n=Object(v.c)((function(e){return e.setExchange.exchangeFrom})),a=Object(v.c)((function(e){return e.setExchange.exchangeTo})),r=Object(v.c)((function(e){return e.minimalAmount.minimalAmount})),s=Object(v.c)((function(e){return e.estimatedAmount.estimatedAmount})),i=Object(c.useState)(""),u=Object(x.a)(i,2),l=u[0],b=u[1],j=Object(c.useState)(""),d=Object(x.a)(j,2),m=d[0],p=d[1],f=Object(c.useState)(!1),O=Object(x.a)(f,2),y=O[0],w=O[1],A=Object(c.useState)(!1),N=Object(x.a)(A,2),M=N[0],H=N[1],R=Object(c.useState)(""),K=Object(x.a)(R,2),U=K[0],G=K[1],J=Object(c.useState)(""),V=Object(x.a)(J,2),X=V[0],Y=V[1],B=Object(c.useState)(!1),L=Object(x.a)(B,2),q=L[0],z=L[1],P=Object(c.useState)(""),Q=Object(x.a)(P,2),W=Q[0],Z=Q[1],$=Object(c.useCallback)((function(){e(function(){var e=Object(E.a)(k.a.mark((function e(t){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.getCurrenies();case 2:n=e.sent,t({type:o,payload:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e(S(n.ticker,a.ticker))}),[e,n,a]);Object(c.useEffect)((function(){$()}),[$]),Object(c.useEffect)((function(){e(function(e,t,n){return function(){var c=Object(E.a)(k.a.mark((function c(a){var r;return k.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,C.getEstimatedAmount(e,t,n);case 2:r=c.sent,a({type:h,payload:r});case 4:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}()}(l,n.ticker,a.ticker))}),[l]),Object(c.useEffect)((function(){e(S(n.ticker,a.ticker))}),[e,n,a]),Object(c.useEffect)((function(){z(!!r.error),Z(r.error?r.error:""),b(r.error?"0":r.minAmount)}),[r]),Object(c.useEffect)((function(){z(!s.estimatedAmount),Z(s.estimatedAmount?"":s.error),p(s.estimatedAmount?s.estimatedAmount:"-")}),[s]);var ee={backgroundImage:"url("+n.image+")"},te={backgroundImage:"url("+a.image+")"},ne="hidden";return ne=q?"error":"hidden",Object(F.jsx)("div",{className:"App",children:Object(F.jsxs)("div",{className:"exchangeContainer",children:[Object(F.jsx)("div",{className:"exchangeFrom",children:Object(F.jsxs)("div",{className:"controls",children:[y?Object(F.jsx)(D,{searchCurrencies:function(e){return G(e.target.value)}}):Object(F.jsx)("input",{type:"text",className:"inputValue",onChange:function(e){b(e.target.value),function(e,t){var n,c,a=!1}(C.getEstimatedAmount(l,n.ticker,a.ticker))},value:l,"aria-label":"Enter the exchange amount"}),y?null:Object(F.jsx)("button",{className:"currentFrom",style:ee,onClick:function(e){w(!y)},"aria-label":"Select currency to exchange",children:n.ticker.slice(0,4)}),y?Object(F.jsx)(I,{searchString:U,currencies:t,setExchange:function(n,c){e(T.apply(void 0,Object(g.a)(t.filter((function(e){return e.name===n&&e.image===c}))))),w(!1),G("")}}):null]})}),Object(F.jsx)("button",{className:"swapTickers","aria-label":"Swapping tickers, not available now"}),Object(F.jsx)("div",{className:"exchangeTo",children:Object(F.jsxs)("div",{className:"controls",children:[M?Object(F.jsx)(D,{searchCurrencies:function(e){return Y(e.target.value)}}):Object(F.jsx)("input",{type:"text",className:"inputValue",onChange:function(e){p(e.target.value)},value:m,"aria-label":"You will get"}),M?null:Object(F.jsx)("button",{className:"currentTo",style:te,onClick:function(e){H(!M)},"aria-label":"Select currency to exchange",children:a.ticker.slice(0,4)}),M?Object(F.jsx)(I,{searchString:X,currencies:t,setExchange:function(n,c){e(_.apply(void 0,Object(g.a)(t.filter((function(e){return e.name===n&&e.image===c}))))),H(!1),Y("")}}):null]})}),Object(F.jsxs)("div",{className:"goExchange",children:[Object(F.jsxs)("label",{htmlFor:"exchangeAddress",children:["Your ",a.name?a.name:"Ethereum"," address",Object(F.jsx)("input",{type:"text",className:"exchangeAddress",id:"exchangeAddress","aria-label":"Enter exchange address"})]}),Object(F.jsxs)("button",{className:"exchangeSubmit","aria-label":"Make an exchange",children:["Exchange",Object(F.jsx)("div",{className:ne,children:Object(F.jsx)("span",{children:"deposit_too_small"===W?"Deposit too small":"pair_is_inactive"===W?"This pair is disabled now":"Enter deposit"})})]})]})]})})}var U=function(){return Object(F.jsxs)("div",{className:"content",children:[Object(F.jsx)("h1",{children:"Crypto Exchange"}),Object(F.jsx)("p",{children:"Exchange fast and easy"}),Object(F.jsx)(K,{})]})},G=n(17),J=Object(i.d)(O,Object(i.c)(Object(i.a)(G.a)));s.a.render(Object(F.jsx)(v.a,{store:J,children:Object(F.jsx)(U,{})}),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.4e505195.chunk.js.map